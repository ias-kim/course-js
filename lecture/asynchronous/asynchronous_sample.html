<!DOCTYPE html>
<html lang="ko">
<head>
  <title>비동기 처리 Demo</title>
</head>
<body>

<button onclick="run()">비동기 처리</button>
<input placeholder="여기에 타이핑 해보세요" />

<script>
  function makeDelay(argMs) {
    let endTime = Date.now() + argMs;
    while(Date.now() < endTime) {}
    console.log("# end - make delay")

  }
  function run() {
    console.log("1. 시작");
    // 비동기: 메인 스레드를 막지 않음
    setTimeout(() => console.log("2. 3초 후 실행"), 1000); // 비동기 처리라서 이벤트 루프의 큐 작업에 들어감.
    makeDelay(3000); // 전역 함수로 스택이 쌓임.
    console.log("3. 끝 (2보다 먼저 출력됨)");
  }
  console.log('; 스타트')
  // 출력 순서: 1 → 3 → (3초 후) 2
  // 버튼을 누른 뒤 input에 타이핑이 가능 (UI가 멈추지 않음)
</script>

</body>
</html>

