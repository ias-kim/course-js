print = console.log;

let myList = [10, 20, 30, 40];

// ============================================
// 고차 함수 (Higher-Order Function)
// - 함수를 인자로 받거나 함수를 반환하는 함수
// - 배열 메서드들은 원본을 변경하지 않음 (immutable)
// ============================================

// --------------------------------------------
// forEach: 각 요소에 대해 함수 실행
// - 반환값: undefined (반환값 없음)
// - 용도: 단순 반복, 부수 효과(side effect) 실행
// --------------------------------------------
myList.forEach(v => console.log(v));

// --------------------------------------------
// map: 각 요소를 변환하여 새 배열 생성
// - 반환값: 변환된 새 배열
// - 용도: 데이터 변환, 가공
// --------------------------------------------
let mapList = myList.map(v => v * 10);
print("map:", mapList); // [100, 200, 300, 400]

// --------------------------------------------
// filter: 조건을 만족하는 요소만 추출
// - 반환값: 조건에 맞는 요소들의 새 배열
// - 용도: 데이터 필터링
// --------------------------------------------
let filterList = myList.filter(v => v >= 30);
print("filter:", filterList); // [30, 40]

// --------------------------------------------
// 메서드 체이닝 (Method Chaining)
// - 여러 고차 함수를 연결하여 파이프라인 구성
// - 예: 제곱 → 400 초과 필터링
// --------------------------------------------
let pipeList = myList.map(v => v ** 2).filter(v => v > 400);
print("pipe:", pipeList); // [900, 1600]

// --------------------------------------------
// reduce: 모든 요소를 하나의 값으로 축소
// - 반환값: 누적 계산된 단일 값
// - 인자: (누적값, 현재값) => 계산식, 초기값
// - 용도: 합계, 평균, 객체 변환 등
// --------------------------------------------
let reduceSum = myList.reduce((acc, v) => acc + v, 0);
print("reduce (합계):", reduceSum); // 100

let reduceWithInit = myList.reduce((acc, v) => acc + v, 10);
print("reduce (초기값 10):", reduceWithInit); // 110

// --------------------------------------------
// some: 하나라도 조건을 만족하면 true
// - 반환값: boolean
// - 용도: 조건 충족 여부 확인
// --------------------------------------------
let someResult = myList.some(v => v > 20);
print("some (v > 20):", someResult); // true

// --------------------------------------------
// every: 모든 요소가 조건을 만족하면 true
// - 반환값: boolean
// - 용도: 전체 유효성 검사
// --------------------------------------------
let everyResult = myList.every(v => v > 5);
print("every (v > 5):", everyResult); // true

let everyResult2 = myList.every(v => v > 20);
print("every (v > 20):", everyResult2); // false

// --------------------------------------------
// find: 조건을 만족하는 첫 번째 요소 반환
// - 반환값: 찾은 요소 또는 undefined
// - 용도: 특정 조건의 요소 탐색
// --------------------------------------------
let findResult = myList.find(v => v > 25);
print("find (v > 25):", findResult); // 30

// --------------------------------------------
// findIndex: 조건을 만족하는 첫 번째 요소의 인덱스
// - 반환값: 인덱스 또는 -1 (못 찾으면)
// --------------------------------------------
let findIndexResult = myList.findIndex(v => v > 25);
print("findIndex (v > 25):", findIndexResult); // 2
